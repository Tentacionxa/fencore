local table = {
  
        -- [1,5] = VOCATION ID
        -- [LEVEL] = {items = {{itemid = ITEM_ID, count = COUNT}}, storage = YOU_CHOOSE, msg = "MESSAGE FOR THE PLAYER"},

   [{1, 5}] = {
     [20] = {items = {{itemid = 3043, count = 5}}, storage = 40100, msg = "You won 5 crystal coins for reaching level 20!"},
     [40] = {items = {{itemid = 3043, count = 10}}, storage = 40101, msg = "You won 10 crystal coins for reaching level 40!"},
     [60] = {items = {{itemid = 3043, count = 15}}, storage = 40102, msg = "You won 15 crystal coins for reaching level 60!"},
     [80] = {items = {{itemid = 3043, count = 15}}, storage = 40103, msg = "You won 15 crystal coins for reaching level 80!"},
	      [100] = {items = {{itemid = 3043, count = 15}}, storage = 40104, msg = "You won 15 crystal coins for reaching level 100!"},
        [120] = {items = {{itemid = 3043, count = 20}}, storage = 40105, msg = "You won 20 crystal coins for reaching level 120!"},
        [140] = {items = {{itemid = 3043, count = 20}}, storage = 40106, msg = "You won 20 crystal coins for reaching level 140!"},
        [160] = {items = {{itemid = 3043, count = 20}}, storage = 40107, msg = "You won 20 crystal coins for reaching level 160!"},
        [180] = {items = {{itemid = 3043, count = 20}}, storage = 40108, msg = "You won 20 crystal coins for reaching level 180!"},
        [200] = {items = {{itemid = 3043, count = 30}}, storage = 40109, msg = "You won 30 crystal coins for reaching level 200!"},
        [220] = {items = {{itemid = 3043, count = 30}}, storage = 40110, msg = "You won 30 crystal coins for reaching level 220!"},
        [240] = {items = {{itemid = 3043, count = 30}}, storage = 40111, msg = "You won 30 crystal coins for reaching level 240!"},
        [260] = {items = {{itemid = 3043, count = 30}}, storage = 40112, msg = "You won 30 crystal coins for reaching level 260!"},
        [280] = {items = {{itemid = 3043, count = 30}}, storage = 40113, msg = "You won 30 crystal coins for reaching level 280!"},
        [300] = {items = {{itemid = 3043, count = 30}}, storage = 40114, msg = "You won 30 crystal coins for reaching level 300!"},
        [320] = {items = {{itemid = 3043, count = 30}}, storage = 40115, msg = "You won 30 crystal coins for reaching level 320!"},
        [340] = {items = {{itemid = 3043, count = 30}}, storage = 40116, msg = "You won 30 crystal coins for reaching level 340!"},
        [400] = {items = {{itemid = 37317, count = 4}}, storage = 40135, msg = "You won x4 casino coins for reaching level 400!"},
        [500] = {items = {{itemid = 8149, count = 1}}, storage = 40118, msg = "You won Prey Card Encyclopedia for reaching level 500!"},
        [600] = {items = {{itemid = 8149, count = 1}}, storage = 40119, msg = "You won Prey Card Encyclopedia for reaching level 600!"},
        [700] = {items = {{itemid = 37317, count = 6}}, storage = 40136, msg = "You won x6 casino coins for reaching level 700!"},
        [800] = {items = {{itemid = 8149, count = 1}}, storage = 40120, msg = "You won Prey Card Encyclopedia for reaching level 800!"},
        [900] = {items = {{itemid = 8149, count = 1}}, storage = 40121, msg = "You won Prey Card Encyclopedia for reaching level 900!"},
        [1000] = {items = {{itemid = 22118, count = 150}}, storage = 40123, msg = "You won x150 Tibia Coins for reaching level 1000!"},
        [1200] = {items = {{itemid = 22118, count = 150}}, storage = 40124, msg = "You won x150 Tibia Coins for reaching level 1200!"},
        [1500] = {items = {{itemid = 22118, count = 150}}, storage = 40125, msg = "You won x150 Tibia Coins for reaching level 1500!"},
        [1800] = {items = {{itemid = 22118, count = 150}}, storage = 40126, msg = "You won x150 Tibia Coins for reaching level 1800!"},
        [2000] = {items = {{itemid = 22118, count = 400}}, storage = 40127, msg = "You won x400 Tibia Coins for reaching level 2000!"},
        [2100] = {items = {{itemid = 22118, count = 400}}, storage = 40128, msg = "You won x400 Tibia Coins for reaching level 2100!"},
        [2500] = {items = {{itemid = 22118, count = 400}}, storage = 40129, msg = "You won x400 Tibia Coins for reaching level 2500!"},
        [2700] = {items = {{itemid = 22118, count = 400}}, storage = 40129, msg = "You won x400 Tibia Coins for reaching level 2700!"},
        [3000] = {items = {{itemid = 22118, count = 600}}, storage = 40129, msg = "You won x600 Tibia Coins for reaching level 3000!"}

   },
   [{2, 6}] = {
     [20] = {items = {{itemid = 3043, count = 5}}, storage = 40201, msg = "You won 5 crystal coins for reaching level 20!"},
     [40] = {items = {{itemid = 3043, count = 10}}, storage = 40202, msg = "You won 10 crystal coins for reaching level 40!"},
     [60] = {items = {{itemid = 3043, count = 15}}, storage = 40203, msg = "You won 15 crystal coins for reaching level 60!"},
     [80] = {items = {{itemid = 3043, count = 15}}, storage = 40204, msg = "You won 15 crystal coins for reaching level 80!"},
     [100] = {items = {{itemid = 3043, count = 15}}, storage = 40205, msg = "You won 15 crystal coins for reaching level 100!"},
     [120] = {items = {{itemid = 3043, count = 20}}, storage = 40206, msg = "You won 20 crystal coins for reaching level 120!"},
     [140] = {items = {{itemid = 3043, count = 20}}, storage = 40207, msg = "You won 20 crystal coins for reaching level 140!"},
     [160] = {items = {{itemid = 3043, count = 20}}, storage = 40208, msg = "You won 20 crystal coins for reaching level 160!"},
     [180] = {items = {{itemid = 3043, count = 20}}, storage = 40209, msg = "You won 20 crystal coins for reaching level 180!"},
     [200] = {items = {{itemid = 3043, count = 30}}, storage = 40210, msg = "You won 30 crystal coins for reaching level 200!"},
     [220] = {items = {{itemid = 3043, count = 30}}, storage = 40211, msg = "You won 30 crystal coins for reaching level 220!"},
     [240] = {items = {{itemid = 3043, count = 30}}, storage = 40212, msg = "You won 30 crystal coins for reaching level 240!"},
     [260] = {items = {{itemid = 3043, count = 30}}, storage = 40213, msg = "You won 30 crystal coins for reaching level 260!"},
     [280] = {items = {{itemid = 3043, count = 30}}, storage = 40214, msg = "You won 30 crystal coins for reaching level 280!"},
     [300] = {items = {{itemid = 3043, count = 30}}, storage = 40215, msg = "You won 30 crystal coins for reaching level 300!"},
     [320] = {items = {{itemid = 3043, count = 30}}, storage = 40216, msg = "You won 30 crystal coins for reaching level 320!"},
     [340] = {items = {{itemid = 3043, count = 30}}, storage = 40217, msg = "You won 30 crystal coins for reaching level 340!"},
     [400] = {items = {{itemid = 37317, count = 4}}, storage = 40135, msg = "You won x4 casino coins for reaching level 400!"},
     [500] = {items = {{itemid = 8149, count = 1}}, storage = 40118, msg = "You won Prey Card Encyclopedia for reaching level 500!"},
     [600] = {items = {{itemid = 8149, count = 1}}, storage = 40119, msg = "You won Prey Card Encyclopedia for reaching level 600!"},
     [700] = {items = {{itemid = 37317, count = 6}}, storage = 40136, msg = "You won x6 casino coins for reaching level 700!"},
     [800] = {items = {{itemid = 8149, count = 1}}, storage = 40120, msg = "You won Prey Card Encyclopedia for reaching level 800!"},
     [900] = {items = {{itemid = 8149, count = 1}}, storage = 40121, msg = "You won Prey Card Encyclopedia for reaching level 900!"},
     [1000] = {items = {{itemid = 22118, count = 150}}, storage = 40123, msg = "You won x150 Tibia Coins for reaching level 1000!"},
     [1200] = {items = {{itemid = 22118, count = 150}}, storage = 40124, msg = "You won x150 Tibia Coins for reaching level 1200!"},
     [1500] = {items = {{itemid = 22118, count = 150}}, storage = 40125, msg = "You won x150 Tibia Coins for reaching level 1500!"},
     [1800] = {items = {{itemid = 22118, count = 150}}, storage = 40126, msg = "You won x150 Tibia Coins for reaching level 1800!"},
     [2000] = {items = {{itemid = 22118, count = 400}}, storage = 40127, msg = "You won x400 Tibia Coins for reaching level 2000!"},
     [2100] = {items = {{itemid = 22118, count = 400}}, storage = 40128, msg = "You won x400 Tibia Coins for reaching level 2100!"},
     [2500] = {items = {{itemid = 22118, count = 400}}, storage = 40129, msg = "You won x400 Tibia Coins for reaching level 2500!"},
     [2700] = {items = {{itemid = 22118, count = 400}}, storage = 40129, msg = "You won x400 Tibia Coins for reaching level 2700!"},
     [3000] = {items = {{itemid = 22118, count = 600}}, storage = 40129, msg = "You won x600 Tibia Coins for reaching level 3000!"}

   },
   [{3, 7}] = {
     [20] = {items = {{itemid = 3043, count = 5}}, storage = 40301, msg = "You won 5 crystal coins for reaching level 20!"},
     [40] = {items = {{itemid = 3043, count = 10}}, storage = 40302, msg = "You won 10 crystal coins for reaching level 40!"},
     [60] = {items = {{itemid = 3043, count = 15}}, storage = 40303, msg = "You won 15 crystal coins for reaching level 60!"},
     [80] = {items = {{itemid = 3043, count = 15}}, storage = 40304, msg = "You won 15 crystal coins for reaching level 80!"},
     [100] = {items = {{itemid = 3043, count = 15}}, storage = 40305, msg = "You won 15 crystal coins for reaching level 100!"},
     [120] = {items = {{itemid = 3043, count = 20}}, storage = 40306, msg = "You won 20 crystal coins for reaching level 120!"},
     [140] = {items = {{itemid = 3043, count = 20}}, storage = 40307, msg = "You won 20 crystal coins for reaching level 140!"},
     [160] = {items = {{itemid = 3043, count = 20}}, storage = 40308, msg = "You won 20 crystal coins for reaching level 160!"},
     [180] = {items = {{itemid = 3043, count = 20}}, storage = 40309, msg = "You won 20 crystal coins for reaching level 180!"},
     [200] = {items = {{itemid = 3043, count = 30}}, storage = 40310, msg = "You won 30 crystal coins for reaching level 200!"},
     [220] = {items = {{itemid = 3043, count = 30}}, storage = 40311, msg = "You won 30 crystal coins for reaching level 220!"},
     [240] = {items = {{itemid = 3043, count = 30}}, storage = 40312, msg = "You won 30 crystal coins for reaching level 240!"},
     [260] = {items = {{itemid = 3043, count = 30}}, storage = 40314, msg = "You won 30 crystal coins for reaching level 260!"},
     [280] = {items = {{itemid = 3043, count = 30}}, storage = 40315, msg = "You won 30 crystal coins for reaching level 280!"},
     [300] = {items = {{itemid = 3043, count = 30}}, storage = 40316, msg = "You won 30 crystal coins for reaching level 300!"},
     [320] = {items = {{itemid = 3043, count = 30}}, storage = 40317, msg = "You won 30 crystal coins for reaching level 320!"},
     [340] = {items = {{itemid = 3043, count = 30}}, storage = 40318, msg = "You won 30 crystal coins for reaching level 340!"},
     [400] = {items = {{itemid = 37317, count = 4}}, storage = 40135, msg = "You won x4 casino coins for reaching level 400!"},
     [500] = {items = {{itemid = 8149, count = 1}}, storage = 40118, msg = "You won Prey Card Encyclopedia for reaching level 500!"},
     [600] = {items = {{itemid = 8149, count = 1}}, storage = 40119, msg = "You won Prey Card Encyclopedia for reaching level 600!"},
     [700] = {items = {{itemid = 37317, count = 6}}, storage = 40136, msg = "You won x6 casino coins for reaching level 700!"},
     [800] = {items = {{itemid = 8149, count = 1}}, storage = 40120, msg = "You won Prey Card Encyclopedia for reaching level 800!"},
     [900] = {items = {{itemid = 8149, count = 1}}, storage = 40121, msg = "You won Prey Card Encyclopedia for reaching level 900!"},
     [1000] = {items = {{itemid = 22118, count = 150}}, storage = 40123, msg = "You won x150 Tibia Coins for reaching level 1000!"},
     [1200] = {items = {{itemid = 22118, count = 150}}, storage = 40124, msg = "You won x150 Tibia Coins for reaching level 1200!"},
     [1500] = {items = {{itemid = 22118, count = 150}}, storage = 40125, msg = "You won x150 Tibia Coins for reaching level 1500!"},
     [1800] = {items = {{itemid = 22118, count = 150}}, storage = 40126, msg = "You won x150 Tibia Coins for reaching level 1800!"},
     [2000] = {items = {{itemid = 22118, count = 400}}, storage = 40127, msg = "You won x400 Tibia Coins for reaching level 2000!"},
     [2100] = {items = {{itemid = 22118, count = 400}}, storage = 40128, msg = "You won x400 Tibia Coins for reaching level 2100!"},
     [2500] = {items = {{itemid = 22118, count = 400}}, storage = 40129, msg = "You won x400 Tibia Coins for reaching level 2500!"},
     [2700] = {items = {{itemid = 22118, count = 400}}, storage = 40129, msg = "You won x400 Tibia Coins for reaching level 2700!"},
     [3000] = {items = {{itemid = 22118, count = 600}}, storage = 40129, msg = "You won x600 Tibia Coins for reaching level 3000!"}
   
   },
   [{4, 8}] = {
     [20] = {items = {{itemid = 3043, count = 5}}, storage = 40401, msg = "You won 5 crystal coins for reaching level 20!"},
     [40] = {items = {{itemid = 3043, count = 10}}, storage = 40402, msg = "You won 10 crystal coins for reaching level 40!"},
     [60] = {items = {{itemid = 3043, count = 15}}, storage = 40403, msg = "You won 15 crystal coins for reaching level 60!"},
	    [80] = {items = {{itemid = 3043, count = 15}}, storage = 40403, msg = "You won 15 crystal coins for reaching level 80!"},
		   [100] = {items = {{itemid = 3043, count = 15}}, storage = 40404, msg = "You won 15 crystal coins for reaching level 100!"},
       [120] = {items = {{itemid = 3043, count = 20}}, storage = 40405, msg = "You won 20 crystal coins for reaching level 120!"},
       [140] = {items = {{itemid = 3043, count = 20}}, storage = 40406, msg = "You won 20 crystal coins for reaching level 140!"},
       [160] = {items = {{itemid = 3043, count = 20}}, storage = 40407, msg = "You won 20 crystal coins for reaching level 160!"},
       [180] = {items = {{itemid = 3043, count = 20}}, storage = 40408, msg = "You won 20 crystal coins for reaching level 180!"},
       [200] = {items = {{itemid = 3043, count = 30}}, storage = 40409, msg = "You won 30 crystal coins for reaching level 200!"},
       [220] = {items = {{itemid = 3043, count = 30}}, storage = 40410, msg = "You won 30 crystal coins for reaching level 220!"},
       [240] = {items = {{itemid = 3043, count = 30}}, storage = 40411, msg = "You won 30 crystal coins for reaching level 240!"},
       [260] = {items = {{itemid = 3043, count = 30}}, storage = 40412, msg = "You won 30 crystal coins for reaching level 260!"},
       [280] = {items = {{itemid = 3043, count = 30}}, storage = 40413, msg = "You won 30 crystal coins for reaching level 280!"},
       [300] = {items = {{itemid = 3043, count = 30}}, storage = 40414, msg = "You won 30 crystal coins for reaching level 300!"},
       [320] = {items = {{itemid = 3043, count = 30}}, storage = 40415, msg = "You won 30 crystal coins for reaching level 320!"},
       [340] = {items = {{itemid = 3043, count = 30}}, storage = 40416, msg = "You won 30 crystal coins for reaching level 340!"},
       [400] = {items = {{itemid = 37317, count = 4}}, storage = 40135, msg = "You won x4 casino coins for reaching level 400!"},
       [500] = {items = {{itemid = 8149, count = 1}}, storage = 40118, msg = "You won Prey Card Encyclopedia for reaching level 500!"},
       [600] = {items = {{itemid = 8149, count = 1}}, storage = 40119, msg = "You won Prey Card Encyclopedia for reaching level 600!"},
       [700] = {items = {{itemid = 37317, count = 6}}, storage = 40136, msg = "You won x6 casino coins for reaching level 700!"},
       [800] = {items = {{itemid = 8149, count = 1}}, storage = 40120, msg = "You won Prey Card Encyclopedia for reaching level 800!"},
       [900] = {items = {{itemid = 8149, count = 1}}, storage = 40121, msg = "You won Prey Card Encyclopedia for reaching level 900!"},
       [1000] = {items = {{itemid = 22118, count = 150}}, storage = 40123, msg = "You won x150 Tibia Coins for reaching level 1000!"},
       [1200] = {items = {{itemid = 22118, count = 150}}, storage = 40124, msg = "You won x150 Tibia Coins for reaching level 1200!"},
       [1500] = {items = {{itemid = 22118, count = 150}}, storage = 40125, msg = "You won x150 Tibia Coins for reaching level 1500!"},
       [1800] = {items = {{itemid = 22118, count = 150}}, storage = 40126, msg = "You won x150 Tibia Coins for reaching level 1800!"},
       [2000] = {items = {{itemid = 22118, count = 400}}, storage = 40127, msg = "You won x400 Tibia Coins for reaching level 2000!"},
       [2100] = {items = {{itemid = 22118, count = 400}}, storage = 40128, msg = "You won x400 Tibia Coins for reaching level 2100!"},
       [2500] = {items = {{itemid = 22118, count = 400}}, storage = 40129, msg = "You won x400 Tibia Coins for reaching level 2500!"},
       [2700] = {items = {{itemid = 22118, count = 400}}, storage = 40129, msg = "You won x400 Tibia Coins for reaching level 2700!"},
       [3000] = {items = {{itemid = 22118, count = 600}}, storage = 40129, msg = "You won x600 Tibia Coins for reaching level 3000!"}

   }
}

local rewardLevel = CreatureEvent("RewardLevel")
function rewardLevel.onAdvance(player, skill, oldLevel, newLevel)


    if skill ~= SKILL_LEVEL or newLevel <= oldLevel then
        
        return true
    
    end

        for voc, x in pairs(table) do
            if isInArray(voc, player:getVocation():getId()) then
            	for level, z in pairs(x) do
            		if newLevel >= level and player:getStorageValue(z.storage) ~= 1 then
                		for v = 1, #z.items do
                			local ret = ", "
                			if v == 1 then
                			ret = ""
                		
                                        end
				        player:addItem(z.items[v].itemid, z.items[v].count)
            				player:sendTextMessage(MESSAGE_EVENT_ADVANCE, z.msg)
            				player:setStorageValue(z.storage, 1)
                		end
                        end
                end
      
   			player:save()

   			return true
   
            end
         end
end

rewardLevel:register()
